import{t as d}from"./products.DoVYs-jX.js";import{c as o}from"./cart.Dwi38V3E.js";document.addEventListener("DOMContentLoaded",()=>{o.hasItem(d.ebook.id)||(o.addItem(d.ebook),console.log("Default e-book added to cart."));const c=document.getElementById("accept-upgrade"),r=document.getElementById("cart-items"),u=document.getElementById("cart-total");function a(){const m=o.getItems();r.innerHTML="",m.forEach(e=>{const t=document.createElement("li");if(t.className="flex items-center gap-4",e.image){const n=document.createElement("img");n.src=typeof e.image=="string"?e.image:e.image.src,n.alt=e.name,n.className="h-16 w-auto object-contain rounded shadow",t.appendChild(n)}const l=document.createElement("span");l.textContent=`${e.name} - $${e.price.toFixed(2)}`,t.appendChild(l),r.appendChild(t)});const s=m.reduce((e,t)=>e+t.price*(t.quantity||1),0);u.textContent=s.toFixed(2);const i=document.getElementById("cart-checkout-total");i&&(i.textContent=s.toFixed(2))}c?.addEventListener("change",()=>{c.checked?(o.removeItem(d.ebook.id),o.addItem(d.ebookAndAudio),console.log("e-book removed, e-book+audiobook upgrade added.")):(o.removeItem(d.ebookAndAudio.id),o.addItem(d.ebook),console.log("e-book+audiobook upgrade removed, e-book added.")),a()}),a(),window.addEventListener("cartUpdated",a)});
