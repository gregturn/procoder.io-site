import{c as o}from"./cart.DfgZkCSH.js";const d=window.twelveRulesProducts;document.addEventListener("DOMContentLoaded",()=>{o.hasItem(d.ebook.id)||(o.addItem(d.ebook),console.log("Default e-book added to cart."));const c=document.getElementById("accept-upgrade"),r=document.getElementById("cart-items"),u=document.getElementById("cart-total");function a(){const s=o.getItems();r.innerHTML="",s.forEach(e=>{const t=document.createElement("li");if(t.className="flex items-center gap-4",e.image){const n=document.createElement("img");n.src=typeof e.image=="string"?e.image:e.image.src,n.alt=e.name,n.className="h-16 w-auto object-contain rounded shadow",t.appendChild(n)}const i=document.createElement("span");i.textContent=`${e.name} - $${e.price.toFixed(2)}`,t.appendChild(i),r.appendChild(t)});const l=s.reduce((e,t)=>e+t.price*(t.quantity||1),0);u.textContent=l.toFixed(2);const m=document.getElementById("cart-checkout-total");m&&(m.textContent=l.toFixed(2))}c?.addEventListener("change",()=>{c.checked?(o.removeItem(d.ebook.id),o.addItem(d.ebookAndAudio),console.log("e-book removed, e-book+audiobook upgrade added.")):(o.removeItem(d.ebookAndAudio.id),o.addItem(d.ebook),console.log("e-book+audiobook upgrade removed, e-book added.")),a()}),a(),window.addEventListener("cartUpdated",a)});
