<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/favicon-180x180.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/xml; charset=utf-8" x-content-type="nosniff" title="Pro Coder" href="https://dev.procoder.io/rss.xml"><link rel="canonical" href="https://dev.procoder.io/articles/2023/2023-02-26_testing-code--from-spaghetti-to-safety-5b6d4d96bb4f/"><meta name="generator" content="Astro v5.7.9"><title>Testing Code: From Spaghetti to Safety | Pro Coder</title><!-- Google tag (gtag.js) @formatter:off --><script async src="https://www.googletagmanager.com/gtag/js?id=G-8W1YK6K7NM"></script> <script type="module">const a={measurementId:"G-8W1YK6K7NM"};window.dataLayer=window.dataLayer||[];window.gtag=function(){dataLayer.push(arguments)};window.gtag("js",new Date);window.gtag("config",a.measurementId);</script> <!-- Google tag (gtag.js) @formatter:on --><meta name="description" content="The world of software development is constantly evolving. New tools, techniques, and technologies are being introduced every day, and it…"><meta name="robots" content="index, follow"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"><!-- Open Graph --><meta property="og:type" content="website"><meta property="og:url" content="https://dev.procoder.io/articles/2023/2023-02-26_testing-code--from-spaghetti-to-safety-5b6d4d96bb4f/"><meta property="og:title" content="Testing Code: From Spaghetti to Safety | Pro Coder"><meta property="og:description" content="The world of software development is constantly evolving. New tools, techniques, and technologies are being introduced every day, and it…"><meta property="og:image" content="https://dev.procoder.io/_astro/1_qS8l1dFbTjUkeJ0BzyPIcw.BxcqzQtn.jpeg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://dev.procoder.io/articles/2023/2023-02-26_testing-code--from-spaghetti-to-safety-5b6d4d96bb4f/"><meta property="twitter:title" content="Testing Code: From Spaghetti to Safety | Pro Coder"><meta property="twitter:description" content="The world of software development is constantly evolving. New tools, techniques, and technologies are being introduced every day, and it…"><meta property="twitter:image" content="https://dev.procoder.io/_astro/1_qS8l1dFbTjUkeJ0BzyPIcw.BxcqzQtn.jpeg"><link rel="stylesheet" href="/_astro/_page_.BGvg3Ou7.css"></head> <body data-theme="procoder"> <header class="fixed top-0 z-50 w-full left-0"> <div class="site-container mx-auto px-4 mt-4"> <div class="flex justify-between items-center gap-4 bg-primary/90 py-2 lg:py-4 rounded-lg px-4 border-black border"> <a href="/" class="logo uppercase font-logo transition-colors duration-200 font-light text-header-logo hover:text-primary">  <img src="/_astro/ProCoderLogo_white.DI51sbMv_Z1hejQB.webp" alt width="1800" height="1800" loading="lazy" decoding="async" class="w-16 h-auto">  </a> <nav class="relative flex items-center gap-2 lg:gap-8" aria-label="Site Navigation"> <!-- Desktop Menu --> <ul class="hidden lg:flex lg:gap-8 items-center"> <li class="relative group"> <div class="flex items-center gap-1"> <a href="/" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> Home  </a> </div>  </li><li class="relative group"> <div class="flex items-center gap-1"> <a href="/12-rules/offer" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> 12 Rules For Pro Coders  </a> </div>  </li><li class="relative group"> <div class="flex items-center gap-1"> <a href="/what-is-a-database/offer" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> What Is A Database?  </a> </div>  </li><li class="relative group"> <div class="flex items-center gap-1"> <a href="/bio" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> About Greg  </a> </div>  </li> </ul> <!-- CartButton is after desktop menus, but before the hamburger icon --> <a href="/checkout" class="flex items-center gap-2 text-background px-4 py-2 transition " id="cart-button"> <div class="relative text-secondary"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="28" height="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-shopping-cart">  <circle cx="8" cy="21" r="1"></circle> <circle cx="19" cy="21" r="1"></circle> <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path>  </svg> <span id="cart-count" class="absolute top-[-5px] right-[-10px] bg-secondary text-background-dark text-xs rounded-full w-5 h-5 flex items-center justify-center">
0
</span> </div> <script type="module" src="/_astro/CartButton.astro_astro_type_script_index_0_lang.nsIViABD.js"></script> </a> <!-- Mobile Menu Button --> <button class="mobile-menu-button relative z-30 p-2 border-none cursor-pointer bg-transparent lg:hidden" aria-label="Toggle Menu" aria-expanded="false"> <span class="menu-icon block"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-menu text-nav-mobile-text">  <line x1="4" x2="20" y1="12" y2="12"></line> <line x1="4" x2="20" y1="6" y2="6"></line> <line x1="4" x2="20" y1="18" y2="18"></line>  </svg> </span> <span class="close-icon hidden"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-x text-nav-mobile-text">  <path d="M18 6 6 18"></path> <path d="m6 6 12 12"></path>  </svg> </span> </button> <!-- Mobile Menu Panel --> <div class="mobile-menu fixed inset-0 z-20 px-8 pt-20 bg-primary lg:hidden hidden opacity-0 scale-95 transform transition-all duration-200 ease-out overflow-y-auto"> <ul class="flex flex-col gap-4"> <li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="/" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> Home </a>  </div>  </div> </li><li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="/12-rules/offer" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> 12 Rules For Pro Coders </a>  </div>  </div> </li><li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="/what-is-a-database/offer" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> What Is A Database? </a>  </div>  </div> </li><li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="/bio" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> About Greg </a>  </div>  </div> </li> </ul> </div> </nav> </div> </div> <script type="module">const v=document.querySelectorAll(".group");v.forEach(s=>{const e=s.querySelector("a"),t=s.querySelector(".submenu"),n=t?.querySelectorAll("a");t&&e&&(s.addEventListener("mouseenter",()=>{l(t,e)}),s.addEventListener("mouseleave",()=>{i(t,e)}),e.addEventListener("keydown",c=>{c.key==="ArrowDown"&&s.children&&(c.preventDefault(),l(t,e),n?.[0]?.focus())}),e.addEventListener("focus",()=>{i(t,e)}),n?.forEach((c,a)=>{c.addEventListener("keydown",d=>{const m=n.length-1;switch(d.key){case"ArrowDown":d.preventDefault(),a<m&&n[a+1].focus();break;case"ArrowUp":d.preventDefault(),a>0?n[a-1].focus():(e.focus(),i(t,e));break;case"Escape":d.preventDefault(),i(t,e),e.focus();break;case"Tab":i(t,e);break}})}),document.addEventListener("focusin",c=>{s&&!s.contains(c.target)&&i(t,e)}))});function l(s,e){s.classList.remove("invisible","opacity-0"),s.classList.add("visible","opacity-100"),e.setAttribute("aria-expanded","true")}function i(s,e){s.classList.add("invisible","opacity-0"),s.classList.remove("visible","opacity-100"),e.setAttribute("aria-expanded","false")}document.querySelectorAll(".mobile-submenu-button").forEach(s=>{s.addEventListener("click",()=>{const e=s.parentElement?.nextElementSibling,t=s.querySelector("svg");if(e){e.classList.toggle("hidden"),t?.classList.toggle("rotate-180");const n=e.classList.contains("hidden")?"false":"true";s.setAttribute("aria-expanded",n)}})});const f=document.querySelector(".mobile-menu-button"),o=document.querySelector(".mobile-menu"),r=document.querySelector(".menu-icon"),u=document.querySelector(".close-icon");f?.addEventListener("click",()=>{o?.classList.contains("hidden")?(document.body.style.overflow="hidden",o?.classList.remove("hidden"),requestAnimationFrame(()=>{o?.classList.remove("opacity-0","scale-95"),o?.classList.add("opacity-100","scale-100")}),r?.classList.add("hidden"),u?.classList.remove("hidden")):(document.body.style.overflow="",o?.classList.add("opacity-0","scale-95"),o?.classList.remove("opacity-100","scale-100"),setTimeout(()=>{o?.classList.add("hidden")},200),r?.classList.remove("hidden"),u?.classList.add("hidden"))});</script> </header>  <div class="w-full h-120 absolute top-0 left-0 z-0 overflow-hidden border-b border-black">  <img src="/_astro/1_qS8l1dFbTjUkeJ0BzyPIcw.BxcqzQtn_ZeYFXX.webp" alt width="1920" height="1080" loading="lazy" decoding="async" class="w-full h-full object-cover grayscale opacity-20"> <div class="absolute inset-0 bg-primary/10 backdrop-blur-md"></div>  </div> <article class="site-container--small mx-auto px-4 prose relative z-10 pb-base"> <div class="mt-42 mb-12 text-center"> <h1>Testing Code: From Spaghetti to Safety</h1> <div class="flex items-center justify-center gap-4 text-gray-600"> <time datetime="2023-02-26T00:00:00.000Z" class="text-sm text-body-base"> February 26th, 2023 </time> <div class="flex flex-wrap gap-2"> <span class="px-2 py-1 text-sm rounded-sm bg-primary/10 text-primary border-primary border flex items-center justify-center leading-none font-medium"> Imported from Medium </span> </div> </div> </div> <img src="/_astro/1_qS8l1dFbTjUkeJ0BzyPIcw.BxcqzQtn_2pRenI.webp" alt width="1200" height="675" loading="lazy" decoding="async" class="w-full h-auto rounded-lg border mb-12 border-black"> <div class="mt-8"> <h1 id="testing-code-from-spaghetti-to-safety">Testing Code: From Spaghetti to Safety</h1>
<p>The world of software development is constantly evolving. New tools, techniques, and technologies are being introduced every day, and it…</p>
<hr>
<h3 id="testing-code-from-spaghetti-tosafety">Testing Code: From Spaghetti to Safety</h3>
<p>The world of software development is constantly evolving. New tools, techniques, and technologies are being introduced every day, and it can be challenging to keep up with the latest trends.</p>
<p>However, there are some issues that never seem to go away, no matter how much progress we make: legacy code.</p>
<p>Yuck.</p>
<p>Can I get a high-five if you’ve ever dealt with legacy code?</p>
<p>Legacy code is something we’ve all had to had to deal with at one time or another. The code may be poorly documented, contain chunks of commented-out code, or have no comments at all. Often, there are few automated tests, making it challenging to know if the code is working as intended.</p>
<p>So, what do you do when you find yourself in this situation?</p>
<p>Easy: Start testing.</p>
<blockquote>
<p>What??! That’s your whole thing? “Start testing?”</p>
</blockquote>
<p>Let me clarify. It’s easy WHAT you must do and that’s to start testing. Before you alter any features, if possible, if you can hold off the minions of management and community and before you “fix” a single thing and first write a test case, that would be perfect. (I understand if you can’t.)</p>
<p>But deciding to “start testing” will not be easy to CARRY OUT. Believe me, I know.</p>
<p>In fact, it will be very VERY hard. So continue reading if you want to some tips that at least give you a decent shot and moving that boulder up the hill.</p>
<p><img  width="800" height="534" loading="lazy" decoding="async" src="/_astro/1_qS8l1dFbTjUkeJ0BzyPIcw.BxcqzQtn_QT4li.webp" >To start off, don’t get caught up in the purity of total isolation or worry about obscure test methods. Just start writing tests. It doesn’t matter if you use the right name or if you’re writing a unit test, a thread test, or an integration test. What matters is that you’re <em>writing a test</em>.</p>
<p>For example, consider a system I once dealt with that parsed electronic invoices and stored the parsed results in a database. The parsed results weren’t handed back through any API, so I had to write a test that checked the results <strong>in the database</strong>.</p>
<p>Yes, that’s ugly as all get out. It’s often <em>un-recommended</em>.</p>
<p>And sometimes…it’s EXACTLY what you must do.</p>
<ol>
<li>I started my test case by programmatically emptying all the tables relevant to the application (test database NOT production!)</li>
<li>Then Ifound a user who had one of these electronic invoices and got a copy of it.</li>
<li>I added code to the test that invoked the top-level API to ingest that file.</li>
<li>Finally added some more code that pulled data out of the database and checked the results.</li>
</ol>
<p>Whew! This took me a couple weeks to carry out these steps, but I did it. And it worked. And the test case took 2–5 minutes to run.</p>
<p>That was no unit test, but it was better than no test at all. And it was my first step forward. My first toward taming this beast.</p>
<p>And so I continued like this, one step at a time. Now here are some additional things to consider:</p>
<ul>
<li>Since the database is where you assert results, you need to have a cleaned-out version before every run of your test. This is going to require coordination if other developers are using some of the same tables. You may need your schema allocated to you, so you can empty tables at will.</li>
<li>It’s important to recognize that if you try to jump immediately into “proper” unit-level testing, you’ll QUICKLY discover that refactoring is required to make the various modules support you. With little or no test suite safety net, the risk becomes incredibly HIGH. Does that make you nervous? Well it <em><strong>should</strong></em>.</li>
</ul>
<p>In fact, if you try to stick to textbook unit testing, you’ll probably give up and deem automated testing as an impossibility.</p>
<p>Instead, take the first step and write the expensive, end-to-end automated test to build the first link in a chain. That test may take a long time to run and not be very comprehensive in what you can assert, but it’s a start.</p>
<p><img  width="800" height="534" loading="lazy" decoding="async" src="/_astro/1_0rB8-xXYOGsfdFO8pLlp-Q.BwPXRlA1_Z18DfCd.webp" >Like I said, the concept of “just write a test” may sound simple, but the work is going to be hard. You’ll be forced to crawl through lots of APIs and find out exactly how they work. You probably won’t be handed lots of intermediate results to assert.</p>
<p>And just to be clear, understanding the API at first is more likely to just understand what is going where so you can track down the final destination of your data.</p>
<p>Now as you continue to write more tests, you will begin to build up a safety net. And the more tests you write, the easier it will be to refactor chunks of code. You’ll actually have an epiphany of realizing “I know how that part works! And I know how to change it!”</p>
<p>And…you’ll then have the suite of tests to support you as you make that change.</p>
<p>You will have built up confidence and accumulated a working knowledge of how the app does its thing.</p>
<p>So when you set out and the process feels slow, never let anyone tell you that you’re wasting your time building a long-running test case. An automated test suite that takes an hour to run and is exercised at least once a day will instill more confidence than clicking through the app’s web pages manually.</p>
<p>Something is better than nothing.</p>
<p>If you dig Spring Boot and learning about being a pro coder, then please stay tuned for my next article. But if you simply can’t wait, then check out this video below where I give you some of the most important tips you need to know to become a pro coder.</p>
<p>— Greg</p>
<p><em>Do you want to get a free tech e-book, be alerted to my discounts, and get even MORE content about SPRING BOOT? Then</em> <a href="https://trnq.st/d2v5"><em>SIGN UP FOR MY NEWSLETTER</em></a><em>.</em></p> </div>  <h6 class="py-6">
Originally published as <i><a rel="canonical" target="_blank" href="https://medium.com/@procoderio/testing-code-from-spaghetti-to-safety-5b6d4d96bb4f">Testing Code: From Spaghetti to Safety</a></i> </h6> </article>   <footer class="bg-background-dark text-body-dark text-small pb-small pt-4"> <div class="site-container mx-auto px-4"> <div class="flex flex-col items-center md:items-start md:flex-row md:justify-between pb-8 border-b border-background-light"> <nav class="flex flex-row justify-center md:justify-start gap-4 md:gap-8"> <div> <a href="/" class="text-small font-medium text-body-dark uppercase focus:outline-none focus:ring-2 focus:ring-nav-text-active transition-colors text-nav-text hover:text-nav-text-hover"> Home </a> </div><div> <a href="https://procoder.myspreadshop.com" class="text-small font-medium text-body-dark uppercase focus:outline-none focus:ring-2 focus:ring-nav-text-active transition-colors text-nav-text hover:text-nav-text-hover" target="_blank"> Merch </a> </div><div> <a href="/whitelist-instructions" class="text-small font-medium text-body-dark uppercase focus:outline-none focus:ring-2 focus:ring-nav-text-active transition-colors text-nav-text hover:text-nav-text-hover"> Whitelist Instructions </a> </div> </nav> </div> <div class="mt-8 flex flex-col md:flex-row justify-between items-center"> <div class="text-sm text-secondary"> <p class="mt-4">Actionable Advice to Advance Your Career</p>
© 2025 Greg L. Turnquist. All rights reserved.
</div> <nav class="mt-4 md:mt-0"> <ul class="flex flex-wrap gap-6"> <li> <a href="/legal/privacy-policy" class="text-sm text-secondary"> Privacy Policy </a> </li><li> <a href="/legal/terms-of-service" class="text-sm text-secondary"> Terms of Service </a> </li> <li><a href="/rss.xml" class="text-sm text-secondary" target="_blank">Subscribe!</a></li> <li> <a href="/rss.xml" target="_blank"> <img src="/_astro/rss-feed-icon-96-by-96.C6Yl9rEh_1SVkiD.webp" alt="RSS icon" width="24" height="24" loading="lazy" decoding="async"> </a> </li> </ul> </nav> </div> </div> </footer> <!--<ThemeSwitcher />--> <script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.DLBBgGU8.js"></script> </body> </html>