<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/favicon-180x180.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png"><link rel="sitemap" href="/sitemap-index.xml"><link rel="canonical" href="https://dev.procoder.io/articles/medium/2022-07-28_5-ways-to-find-data-with-spring-data-91766c74fa8e/"><meta name="generator" content="Astro v5.7.9"><title>5 ways to find data with Spring Data | Pro Coder</title><!-- Google tag (gtag.js) @formatter:off --><script async src="https://www.googletagmanager.com/gtag/js?id=G-8W1YK6K7NM"></script> <script type="module">const a={measurementId:"G-8W1YK6K7NM"};window.dataLayer=window.dataLayer||[];window.gtag=function(){dataLayer.push(arguments)};window.gtag("js",new Date);window.gtag("config",a.measurementId);</script> <!-- Google tag (gtag.js) @formatter:on --><meta name="description" content="Spring Data provides all kinds of ways to interact with your data store. But do you know them ALL? Odds are, you haven’t seen them all."><meta name="robots" content="index, follow"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"><!-- Open Graph --><meta property="og:type" content="website"><meta property="og:url" content="https://dev.procoder.io/articles/medium/2022-07-28_5-ways-to-find-data-with-spring-data-91766c74fa8e/"><meta property="og:title" content="5 ways to find data with Spring Data | Pro Coder"><meta property="og:description" content="Spring Data provides all kinds of ways to interact with your data store. But do you know them ALL? Odds are, you haven’t seen them all."><meta property="og:image" content="https://dev.procoder.io/_astro/1_24Yrvoye3Aq5ktsRRpA0OA.CtZMOK8t.jpeg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://dev.procoder.io/articles/medium/2022-07-28_5-ways-to-find-data-with-spring-data-91766c74fa8e/"><meta property="twitter:title" content="5 ways to find data with Spring Data | Pro Coder"><meta property="twitter:description" content="Spring Data provides all kinds of ways to interact with your data store. But do you know them ALL? Odds are, you haven’t seen them all."><meta property="twitter:image" content="https://dev.procoder.io/_astro/1_24Yrvoye3Aq5ktsRRpA0OA.CtZMOK8t.jpeg"><link rel="stylesheet" href="/_astro/_page_.7tm5UBp-.css"></head> <body data-theme="procoder"> <header class="fixed top-0 z-50 w-full left-0"> <div class="site-container mx-auto px-4 mt-4"> <div class="flex justify-between items-center gap-4 bg-primary/90 py-2 lg:py-4 rounded-lg px-4 border-black border"> <a href="/" class="logo uppercase font-logo transition-colors duration-200 font-light text-header-logo hover:text-primary">  <img src="/_astro/ProCoderLogo_white.DI51sbMv_Z1hejQB.webp" alt width="1800" height="1800" loading="lazy" decoding="async" class="w-16 h-auto">  </a> <nav class="relative flex items-center gap-2 lg:gap-8" aria-label="Site Navigation"> <!-- Desktop Menu --> <ul class="hidden lg:flex lg:gap-8 items-center"> <li class="relative group"> <div class="flex items-center gap-1"> <a href="/" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> Home  </a> </div>  </li><li class="relative group"> <div class="flex items-center gap-1"> <a href="/bio" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> About Greg  </a> </div>  </li><li class="relative group"> <div class="flex items-center gap-1"> <a href="https://procoder.myspreadshop.com" class="text-small font-medium uppercase rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-nav-text-active text-nav-text hover:text-nav-text-hover"> Merch  </a> </div>  </li> </ul> <!-- CartButton is after desktop menus, but before the hamburger icon --> <a href="/checkout" class="flex items-center gap-2 text-background px-4 py-2 transition " id="cart-button"> <div class="relative text-secondary"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="28" height="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-shopping-cart">  <circle cx="8" cy="21" r="1"></circle> <circle cx="19" cy="21" r="1"></circle> <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path>  </svg> <span id="cart-count" class="absolute top-[-5px] right-[-10px] bg-secondary text-background-dark text-xs rounded-full w-5 h-5 flex items-center justify-center">
0
</span> </div> <script type="module" src="/_astro/CartButton.astro_astro_type_script_index_0_lang.D-t14tcm.js"></script> </a> <!-- Mobile Menu Button --> <button class="mobile-menu-button relative z-30 p-2 border-none cursor-pointer bg-transparent lg:hidden" aria-label="Toggle Menu" aria-expanded="false"> <span class="menu-icon block"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-menu text-nav-mobile-text">  <line x1="4" x2="20" y1="12" y2="12"></line> <line x1="4" x2="20" y1="6" y2="6"></line> <line x1="4" x2="20" y1="18" y2="18"></line>  </svg> </span> <span class="close-icon hidden"> <svg xmlns="http://www.w3.org/2000/svg" stroke-width="2" width="24" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none" viewBox="0 0 24 24" class="lucide lucide-x text-nav-mobile-text">  <path d="M18 6 6 18"></path> <path d="m6 6 12 12"></path>  </svg> </span> </button> <!-- Mobile Menu Panel --> <div class="mobile-menu fixed inset-0 z-20 px-8 pt-20 bg-primary lg:hidden hidden opacity-0 scale-95 transform transition-all duration-200 ease-out overflow-y-auto"> <ul class="flex flex-col gap-4"> <li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="/" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> Home </a>  </div>  </div> </li><li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="/bio" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> About Greg </a>  </div>  </div> </li><li> <div class="text-headline-dark"> <div class="flex items-center justify-between"> <a href="https://procoder.myspreadshop.com" class="py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-nav-mobile-text-active text-nav-mobile-text hover:text-nav-mobile-text-hover"> Merch </a>  </div>  </div> </li> </ul> </div> </nav> </div> </div> <script type="module">const v=document.querySelectorAll(".group");v.forEach(s=>{const e=s.querySelector("a"),t=s.querySelector(".submenu"),n=t?.querySelectorAll("a");t&&e&&(s.addEventListener("mouseenter",()=>{l(t,e)}),s.addEventListener("mouseleave",()=>{i(t,e)}),e.addEventListener("keydown",c=>{c.key==="ArrowDown"&&s.children&&(c.preventDefault(),l(t,e),n?.[0]?.focus())}),e.addEventListener("focus",()=>{i(t,e)}),n?.forEach((c,a)=>{c.addEventListener("keydown",d=>{const m=n.length-1;switch(d.key){case"ArrowDown":d.preventDefault(),a<m&&n[a+1].focus();break;case"ArrowUp":d.preventDefault(),a>0?n[a-1].focus():(e.focus(),i(t,e));break;case"Escape":d.preventDefault(),i(t,e),e.focus();break;case"Tab":i(t,e);break}})}),document.addEventListener("focusin",c=>{s&&!s.contains(c.target)&&i(t,e)}))});function l(s,e){s.classList.remove("invisible","opacity-0"),s.classList.add("visible","opacity-100"),e.setAttribute("aria-expanded","true")}function i(s,e){s.classList.add("invisible","opacity-0"),s.classList.remove("visible","opacity-100"),e.setAttribute("aria-expanded","false")}document.querySelectorAll(".mobile-submenu-button").forEach(s=>{s.addEventListener("click",()=>{const e=s.parentElement?.nextElementSibling,t=s.querySelector("svg");if(e){e.classList.toggle("hidden"),t?.classList.toggle("rotate-180");const n=e.classList.contains("hidden")?"false":"true";s.setAttribute("aria-expanded",n)}})});const f=document.querySelector(".mobile-menu-button"),o=document.querySelector(".mobile-menu"),r=document.querySelector(".menu-icon"),u=document.querySelector(".close-icon");f?.addEventListener("click",()=>{o?.classList.contains("hidden")?(document.body.style.overflow="hidden",o?.classList.remove("hidden"),requestAnimationFrame(()=>{o?.classList.remove("opacity-0","scale-95"),o?.classList.add("opacity-100","scale-100")}),r?.classList.add("hidden"),u?.classList.remove("hidden")):(document.body.style.overflow="",o?.classList.add("opacity-0","scale-95"),o?.classList.remove("opacity-100","scale-100"),setTimeout(()=>{o?.classList.add("hidden")},200),r?.classList.remove("hidden"),u?.classList.add("hidden"))});</script> </header>  <div class="w-full h-120 absolute top-0 left-0 z-0 overflow-hidden border-b border-black">  <img src="/_astro/1_24Yrvoye3Aq5ktsRRpA0OA.CtZMOK8t_SaCG2.webp" alt width="1920" height="1080" loading="lazy" decoding="async" class="w-full h-full object-cover grayscale opacity-20"> <div class="absolute inset-0 bg-primary/10 backdrop-blur-md"></div>  </div> <article class="site-container--small mx-auto px-4 prose relative z-10 pb-base"> <div class="mt-42 mb-12 text-center"> <h1>5 ways to find data with Spring Data</h1> <div class="flex items-center justify-center gap-4 text-gray-600"> <time datetime="2022-07-28T00:00:00.000Z" class="text-sm text-body-base"> July 28th, 2022 </time> <div class="flex flex-wrap gap-2"> <span class="px-2 py-1 text-sm rounded-sm bg-primary/10 text-primary border-primary border flex items-center justify-center leading-none font-medium"> Imported from Medium </span> </div> </div> </div> <img src="/_astro/1_24Yrvoye3Aq5ktsRRpA0OA.CtZMOK8t_Z1w9zKd.webp" alt width="1200" height="675" loading="lazy" decoding="async" class="w-full h-auto rounded-lg border mb-12 border-black"> <div class="mt-8"> <h1 id="5-ways-to-find-data-with-spring-data">5 ways to find data with Spring Data</h1>
<p>Spring Data provides all kinds of ways to interact with your data store. But do you know them ALL? Odds are, you haven’t seen them all.</p>
<hr>
<h3 id="5-ways-to-find-data-with-springdata">5 ways to find data with Spring Data</h3>
<p>Spring Data provides all kinds of ways to interact with your data store. But do you know them ALL? Odds are, you haven’t seen them all.</p>
<p>And you may be suffering from wasting your time on some queries because of it.</p>
<p>In this article, find out ALL the ways you can access your data, and see which one is for YOU!</p>
<h3 id="1-customfinders">1 —Custom finders</h3>
<p>The simplest and most eye-catching solution (to me) is your ability to write a custom query WITHOUT WRITING any, well, query, is this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>public interface ItemRepository extends CrudRepository&#x3C;Item, Long> {  </span></span>
<span class="line"><span>    List&#x3C;Item> findBySku(String sku);  </span></span>
<span class="line"><span>}</span></span></code></pre>
<p>In a system where you have defined your <strong>Item</strong> type, and it has a field tracking its <strong>SKU</strong> value, you can do that by writing what’s above.</p>
<p>This tactic to craft a custom finder is known as <strong>query derivation</strong>. Spring Data simply parses the name of the method, sees the “findBy” prefix and also the names of the fields inside Item, and is able to craft a query. It also binds the incoming argument and then fashions the output to work with a standard Java <strong>List</strong>.</p>
<blockquote>
<p>Spring Data also supports return types including <strong>Iterable</strong>, <strong>Stream</strong>, <strong>Flux</strong>, <strong>Optional</strong>, and more.</p>
</blockquote>
<p>But what if you don’t know all the criteria needed to fetch? What if they keep changing? Then check out the next section.</p>
<h3 id="2query-byexample">2 — Query by Example</h3>
<p>Query by Example is a way to allow someone <em>else</em> to provide the criteria for finding data. A simple example is building a search box on the web page where someone wants to search your inventory of <strong>Item</strong> objects.</p>
<p>If they entered SKU, name, or description, you can then feed those details into a probe. Any parameters that are NOT null will be queried against!</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Item probe = new Item();  </span></span>
<span class="line"><span>probe.setSku(searchForm.getSku());  </span></span>
<span class="line"><span>probe.setName(searchForm.getName());  </span></span>
<span class="line"><span>probe.setDescription(searchForm.getDescription());</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Example&#x3C;Item> example = Example.of(probe);  </span></span>
<span class="line"><span>itemRepository.findAll(example);</span></span></code></pre>
<p>The default behavior for Query by Example is to:</p>
<ul>
<li>Ignore any fields that are <strong>null</strong></li>
<li>Join all criteria as an <strong>AND</strong></li>
<li>Match completely on each field</li>
</ul>
<p>If you wanted to alter things, such as joining via OR, ignoring entire fields completely, or partially matching one (or all) fields, then you can.</p>
<p>But either way, this lets you quickly query for data based on varying criteria that may not be known until runtime.</p>
<p>But what if you need to harness some of that deeper more powerful huzzah your data store has? Then you need to check into the next few sections.</p>
<h3 id="3template-based">3 — Template-based</h3>
<p>Spring Data MongoDB has <strong>MongoTemplate</strong>. Spring Data for Apache Cassandra has <strong>CqlTemplate</strong>. And Spring Data Redis has about a million various templates.</p>
<blockquote>
<p>In case you’re wondering, old timey Spring Framework once had a <strong>JpaTemplate</strong> as well as a <strong>HibernateTemplate</strong>, but Hibernate/JPA evolved such that these templates no longer fit the bill. See further down how dropping down to the data store’s native API is always an option!</p>
</blockquote>
<p>Basically, just about any Spring module has a template to help you dive into using native operations quickly and PROPERLY.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Item newItem = new Item("Smurf TV tray", "SKU-12345");  </span></span>
<span class="line"><span>mongoTemplate.insert(newItem);  </span></span>
<span class="line"><span>mongoTemplate.updateFirst(  </span></span>
<span class="line"><span>    query(where("sku").is("SKU-12345")),   </span></span>
<span class="line"><span>    update("price", 19.99),   </span></span>
<span class="line"><span>    Item.class);</span></span></code></pre>
<p>Templates are geared toward giving you access to the data store’s power without getting caught up in resource management.</p>
<p>(BTW, this fragment isn’t all that <strong>MongoTemplate</strong> has to offer.)</p>
<p>While a powerful tool, your code will certainly NOT be portable! If a custom finder is getting too complicated, it may be time to switch to the data store’s template.</p>
<p>But what if using this template-based API is really just getting in the WAY of your need to write a store-specific query YOU ALREADY WROTE?</p>
<h3 id="4query">4 — @Query</h3>
<p>All Spring Data modules offer you a really cool way to just Write The Query Yourself.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>public ItemRepository extends JpaRepository&#x3C;Item, Long> {</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>    @Query("select i from Item i where i.sku = :sku")  </span></span>
<span class="line"><span>    List&#x3C;Item> myHandWrittenQuery(String sku);  </span></span>
<span class="line"><span>}</span></span></code></pre>
<p>While the example above is a bit contrived, a business office query that took you three weeks to write and joins twenty different tables is real. (I once wrote one!)</p>
<p>And trying to twist and bend JPA to do the same thing may take you triple the time. If you already have the query, just stuff it into an @Query annotation like this and move on!</p>
<p>Spring Data will still handle opening and closing connections, mapping results, and all that good stuff. It will simply let YOU take the role of writing the queries!</p>
<p>And while this example is about Spring Data JPA, you’ll find counterpart annotations in most other modules as well.</p>
<p><img  width="800" height="450" loading="lazy" decoding="async" src="/_astro/1_24Yrvoye3Aq5ktsRRpA0OA.CtZMOK8t_19SKe6.webp" >But sometimes even THAT isn’t quite enough!</p>
<h3 id="5-dropping-down-to-the-datastore">5— Dropping down to the data store</h3>
<p>Sometimes you REALLY need Spring Data to get out of the way. Whether that means talking straight to JPA’s entity manager</p>
<p>Spring Data JPA lets you talk to the <strong>EntityManager</strong>. Spring Data MongoDB allows you to use a <strong>ClientSession</strong>. Spring Data Cassandra has the <strong>CqlSession</strong>.</p>
<p>All of these are native connections to talk directly to the data store using their own APIs. And Spring Boot autowires an instance into the application context. At any time, in any Spring bean, you can ask for an instance and talk straight to the data store.</p>
<p>Spring Data will get out of your way. This is only recommended as a last resort. It will be up to you to use the right interactions and properly manage resources. But if that’s what you need, then do it! (Just be sure to file any tickets with the original data store, okay?)</p>
<p>Spring Data is meant to ease your efforts at accessing data for your application and provides you with multiple ways to do it. And it gets in your way, you can sidestep it and go straight in. The choice is yours.</p>
<p>If you dig Spring Boot, then please stay tuned for my next article. However, if you simply can’t wait, then check out the following video where I show you how to test your Spring Data repositories…using a REAL database!</p>
<p>— Greg</p>
<p><em>Do you want to get a free tech e-book, be alerted to my discounts, and get even MORE content about SPRING BOOT? Then</em> <a href="https://trnq.st/d2v5"><em>SIGN UP FOR MY NEWSLETTER</em></a><em>.</em></p> </div> <h6>
Originally published as <i><a rel="canonical" target="_blank" href="https://medium.com/@procoderio/5-ways-to-find-data-with-spring-data-91766c74fa8e">5 ways to find data with Spring Data</a></i> </h6> </article>   <footer class="bg-background-dark text-body-dark text-small pb-small pt-4"> <div class="site-container mx-auto px-4"> <div class="flex flex-col items-center md:items-start md:flex-row md:justify-between pb-8 border-b border-background-light"> <nav class="flex flex-row justify-center md:justify-start gap-4 md:gap-8"> <div> <a href="/" class="text-small font-medium text-body-dark uppercase focus:outline-none focus:ring-2 focus:ring-nav-text-active transition-colors text-nav-text hover:text-nav-text-hover"> Home </a> </div><div> <a href="/whitelist-instructions" class="text-small font-medium text-body-dark uppercase focus:outline-none focus:ring-2 focus:ring-nav-text-active transition-colors text-nav-text hover:text-nav-text-hover"> Whitelist Instructions </a> </div> </nav> </div> <div class="mt-8 flex flex-col md:flex-row justify-between items-center"> <div class="text-sm text-secondary"> <p class="mt-4">Actionable Advice to Advance Your Career</p>
© 2025 Greg L. Turnquist. All rights reserved.
</div> <nav class="mt-4 md:mt-0"> <ul class="flex flex-wrap gap-6"> <li> <a href="/legal/privacy-policy" class="text-sm text-secondary"> Privacy Policy </a> </li><li> <a href="/legal/terms-of-service" class="text-sm text-secondary"> Terms of Service </a> </li> </ul> </nav> </div> </div> </footer> <!--<ThemeSwitcher />--> <script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.DLBBgGU8.js"></script> </body> </html>